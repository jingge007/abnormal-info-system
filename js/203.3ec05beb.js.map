{"version":3,"file":"js/203.3ec05beb.js","mappings":"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","sources":["webpack://abnormal-info-system/./src/components/generateExceptionReport.vue","webpack://abnormal-info-system/src/components/generateExceptionReport.vue","webpack://abnormal-info-system/./src/components/generateExceptionReport.vue?d819","webpack://abnormal-info-system/./src/components/generateExceptionReport.vue?45b9","webpack://abnormal-info-system/../src/FileSaver.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"generateExceptionReport_box\"},[_c('Form',{ref:\"pageParams\",attrs:{\"model\":_vm.pageParams,\"label-width\":100,\"rules\":_vm.ruleValidate}},[_c('Row',{attrs:{\"type\":\"flex\",\"gutter\":16}},[_c('Col',{attrs:{\"span\":_vm.threeItemCol}},[_c('FormItem',{attrs:{\"label\":\"所在系统：\",\"prop\":\"system\"}},[_c('Select',{attrs:{\"transfer\":\"\",\"size\":\"large\"},model:{value:(_vm.pageParams.system),callback:function ($$v) {_vm.$set(_vm.pageParams, \"system\", $$v)},expression:\"pageParams.system\"}},_vm._l((_vm.systemList),function(item){return _c('Option',{key:item.value,attrs:{\"value\":item.value}},[_vm._v(_vm._s(item.name))])}),1)],1)],1),_c('Col',{attrs:{\"span\":_vm.threeItemCol}},[_c('FormItem',{attrs:{\"label\":\"系统环境：\",\"prop\":\"systemEnvironment\"}},[_c('Select',{attrs:{\"transfer\":\"\",\"size\":\"large\"},model:{value:(_vm.pageParams.systemEnvironment),callback:function ($$v) {_vm.$set(_vm.pageParams, \"systemEnvironment\", $$v)},expression:\"pageParams.systemEnvironment\"}},_vm._l((_vm.systemEnvironmentList),function(item){return _c('Option',{key:item.value,attrs:{\"value\":item.value}},[_vm._v(_vm._s(item.name))])}),1)],1)],1),_c('Col',{attrs:{\"span\":_vm.threeItemCol}},[_c('FormItem',{attrs:{\"label\":\"请求方式：\",\"prop\":\"method\"}},[_c('Select',{attrs:{\"transfer\":\"\",\"size\":\"large\"},model:{value:(_vm.pageParams.method),callback:function ($$v) {_vm.$set(_vm.pageParams, \"method\", $$v)},expression:\"pageParams.method\"}},_vm._l((_vm.methodList),function(item){return _c('Option',{key:item.value,attrs:{\"value\":item.value}},[_vm._v(_vm._s(item.name))])}),1)],1)],1),_c('Col',{attrs:{\"span\":_vm.itemCol}},[_c('FormItem',{attrs:{\"label\":\"报错接口：\",\"prop\":\"errorReportingInterface\"}},[_c('Input',{attrs:{\"type\":\"textarea\",\"size\":\"large\",\"autosize\":{ minRows: 2, maxRows: 4}},model:{value:(_vm.pageParams.errorReportingInterface),callback:function ($$v) {_vm.$set(_vm.pageParams, \"errorReportingInterface\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"pageParams.errorReportingInterface\"}})],1)],1),_c('Col',{attrs:{\"span\":_vm.itemCol}},[_c('FormItem',{attrs:{\"label\":\"接口入參：\",\"prop\":\"enteringGinseng\"}},[_c('Input',{attrs:{\"type\":\"textarea\",\"size\":\"large\",\"autosize\":{ minRows: 4, maxRows: 8}},model:{value:(_vm.pageParams.enteringGinseng),callback:function ($$v) {_vm.$set(_vm.pageParams, \"enteringGinseng\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"pageParams.enteringGinseng\"}})],1)],1),_c('Col',{attrs:{\"span\":_vm.itemCol}},[_c('FormItem',{attrs:{\"label\":\"报错信息：\",\"prop\":\"errorMessage\"}},[_c('Input',{attrs:{\"size\":\"large\",\"type\":\"textarea\",\"autosize\":{ minRows: 20, maxRows: 22}},model:{value:(_vm.pageParams.errorMessage),callback:function ($$v) {_vm.$set(_vm.pageParams, \"errorMessage\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"pageParams.errorMessage\"}})],1)],1)],1)],1),_c('div',{staticStyle:{\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"center\",\"width\":\"1200px\",\"margin-top\":\"10px\"}},[_c('Button',{staticStyle:{\"margin-right\":\"25px\"},attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleReport('copy')}}},[_vm._v(\"复制异常报告链接\")]),_c('Button',{staticStyle:{\"margin-right\":\"25px\"},attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleReport('download')}}},[_vm._v(\"下载异常报告文件\")]),_c('Button',{staticStyle:{\"margin-right\":\"25px\"},attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleReport('link')}}},[_vm._v(\"生成异常报告\")]),_c('Button',{on:{\"click\":_vm.resetBtn}},[_vm._v(\"重置数据\")])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"generateExceptionReport_box\">\r\n    <Form ref=\"pageParams\" :model=\"pageParams\" :label-width=\"100\" :rules=\"ruleValidate\">\r\n      <Row type=\"flex\" :gutter=\"16\">\r\n        <Col :span=\"threeItemCol\">\r\n          <FormItem label=\"所在系统：\" prop=\"system\">\r\n            <Select v-model=\"pageParams.system\" transfer size=\"large\">\r\n              <Option v-for=\"item in systemList\" :key=\"item.value\" :value=\"item.value\">{{ item.name }}</Option>\r\n            </Select>\r\n          </FormItem>\r\n        </Col>\r\n        <Col :span=\"threeItemCol\">\r\n          <FormItem label=\"系统环境：\" prop=\"systemEnvironment\">\r\n            <Select v-model=\"pageParams.systemEnvironment\" transfer size=\"large\">\r\n              <Option v-for=\"item in systemEnvironmentList\" :key=\"item.value\" :value=\"item.value\">{{ item.name }}</Option>\r\n            </Select>\r\n          </FormItem>\r\n        </Col>\r\n        <Col :span=\"threeItemCol\">\r\n          <FormItem label=\"请求方式：\" prop=\"method\">\r\n            <Select v-model=\"pageParams.method\" transfer size=\"large\">\r\n              <Option v-for=\"item in methodList\" :key=\"item.value\" :value=\"item.value\">{{ item.name }}</Option>\r\n            </Select>\r\n          </FormItem>\r\n        </Col>\r\n        <Col :span=\"itemCol\">\r\n          <FormItem label=\"报错接口：\" prop=\"errorReportingInterface\">\r\n            <Input\r\n              type=\"textarea\"\r\n              size=\"large\"\r\n              :autosize=\"{ minRows: 2, maxRows: 4}\"\r\n              v-model.trim=\"pageParams.errorReportingInterface\">\r\n            </Input>\r\n          </FormItem>\r\n        </Col>\r\n        <Col :span=\"itemCol\">\r\n          <FormItem label=\"接口入參：\" prop=\"enteringGinseng\">\r\n            <Input\r\n              type=\"textarea\"\r\n              size=\"large\"\r\n              :autosize=\"{ minRows: 4, maxRows: 8}\"\r\n              v-model.trim=\"pageParams.enteringGinseng\">\r\n            </Input>\r\n          </FormItem>\r\n        </Col>\r\n        <Col :span=\"itemCol\">\r\n          <FormItem label=\"报错信息：\" prop=\"errorMessage\">\r\n            <Input\r\n              size=\"large\"\r\n              type=\"textarea\"\r\n              :autosize=\"{ minRows: 20, maxRows: 22}\"\r\n              v-model.trim=\"pageParams.errorMessage\">\r\n            </Input>\r\n          </FormItem>\r\n        </Col>\r\n      </Row>\r\n    </Form>\r\n    <div style=\"display: flex;align-items: center; justify-content: center; width: 1200px; margin-top: 10px;\">\r\n      <Button type=\"primary\" style=\"margin-right: 25px;\" @click=\"handleReport('copy')\">复制异常报告链接</Button>\r\n      <Button type=\"primary\" style=\"margin-right: 25px;\" @click=\"handleReport('download')\">下载异常报告文件</Button>\r\n      <Button type=\"primary\" style=\"margin-right: 25px;\" @click=\"handleReport('link')\">生成异常报告</Button>\r\n      <Button @click=\"resetBtn\">重置数据</Button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {saveAs} from 'file-saver';\r\n\r\nexport default {\r\n  name: 'generateExceptionReport_box',\r\n  data() {\r\n    return {\r\n      itemCol: 24,\r\n      threeItemCol: 8,\r\n      pageParams: {\r\n        system: 'yms',\r\n        systemEnvironment: 'dev',\r\n        method: 'post',\r\n        errorReportingInterface: '',\r\n        enteringGinseng: '',\r\n        errorMessage: ''\r\n      },\r\n      ruleValidate: {\r\n        system: [\r\n          {required: true, message: '请选择系统', trigger: 'change'}\r\n        ],\r\n        systemEnvironment: [\r\n          {required: true, message: '请选择系统环境', trigger: 'change'}\r\n        ],\r\n        method: [\r\n          {required: true, message: '请选择请求方式', trigger: 'change'}\r\n        ],\r\n        errorReportingInterface: [\r\n          {required: true, message: '报错接口不能为空', trigger: 'blur'}\r\n        ],\r\n        errorMessage: [\r\n          {required: true, message: '报错信息不能为空', trigger: 'blur'}\r\n        ]\r\n      },\r\n      systemList: [\r\n        {name: '运营系统', value: 'yms'},\r\n        {name: '供应商系统', value: 'supplier'},\r\n        {name: '分销商系统', value: 'distributor'},\r\n        {name: '商城', value: 'shopping'},\r\n      ],\r\n      systemEnvironmentList: [\r\n        {name: 'dev环境', value: 'dev'},\r\n        {name: 'test环境', value: 'test'},\r\n        {name: 'staging环境', value: 'staging'}\r\n      ],\r\n      methodList: [\r\n        {name: 'GET请求', value: 'get'},\r\n        {name: 'POST请求', value: 'post'},\r\n        {name: 'PUT请求', value: 'put'},\r\n        {name: 'DELETE请求', value: 'delete'},\r\n      ],\r\n    }\r\n  },\r\n  methods: {\r\n    // 重置数据\r\n    resetBtn() {\r\n      this.$refs['pageParams'].resetFields();\r\n    },\r\n    // 异常报告的处理\r\n    handleReport(type) {\r\n      let v = this;\r\n      let obj = {\r\n        system: '所在系统：',\r\n        systemEnvironment: '系统环境：',\r\n        method: '请求方式：',\r\n        errorReportingInterface: '报错接口：',\r\n        enteringGinseng: '入參：',\r\n        errorMessage: '报错信息：'\r\n      };\r\n      let selectKeyList = ['system', 'systemEnvironment', 'method'];\r\n      let text = '';\r\n\r\n      function handleFun(value) {\r\n        let name = '';\r\n        let list = [...v.systemList, ...v.systemEnvironmentList, ...v.methodList];\r\n        list.map((item) => {\r\n          if (item.value === value) {\r\n            name = item.name;\r\n          }\r\n        });\r\n        return name;\r\n      }\r\n\r\n      v.$refs['pageParams'].validate((valid) => {\r\n        if (valid) {\r\n          for (let key in v.pageParams) {\r\n            let val = '';\r\n            if (selectKeyList.includes(key)) {\r\n              val = handleFun(v.pageParams[key]);\r\n            } else {\r\n              val = v.pageParams[key];\r\n            }\r\n            text += obj[key] + val + '\\r\\n' + '\\r\\n';\r\n          }\r\n          const blob = new Blob([text], {type: 'text/plain;charset=utf-8'});\r\n          // 下载\r\n          if (type === 'download') {\r\n            let timer = v.$moment(new Date()).format('YYYY-MM-DD HH:mm:ss');\r\n            let name = `错误报告-${timer}`;\r\n            saveAs(blob, `${name}.txt`);\r\n          } else if(type ==='link') {\r\n            // 在新窗口中打开展示报错信息\r\n            v.generateExceptionReport(v.pageParams);\r\n          }\r\n          // 复制\r\n          else {\r\n            let path = '';\r\n            v.handleSaveData(v.pageParams).then((id) => {\r\n              let origin = window.location.origin;\r\n              if (origin.includes('localhost')) {\r\n                path = `http://localhost:8080/abnormal-info-system/#/errorReport?id=${id}`\r\n              } else {\r\n                path = `https://jingge007.github.io/abnormal-info-system/#/errorReport?id=${id}`\r\n              }\r\n              v.$tools.copyText(path)\r\n              v.$Message.success('复制成功！');\r\n            });\r\n          }\r\n        }\r\n      });\r\n    },\r\n    // 将错误信息保存数据对象到LeanCloud云端\r\n    handleSaveData(pageParams) {\r\n      let v = this;\r\n      return new Promise((resolve)=> {\r\n        const AbnormalList = v.$leancloud.Object.extend('abnormalList');\r\n        const abnormalList = new AbnormalList();\r\n        let keyList = ['system', 'systemEnvironment', 'method', 'errorReportingInterface', 'enteringGinseng', 'errorMessage'];\r\n        for(let key in pageParams) {\r\n          if (keyList.includes(key)) {\r\n            abnormalList.set(key, pageParams[key]);\r\n          }\r\n        }\r\n        abnormalList.save().then((data) => {\r\n          let id = data.id;\r\n          resolve(id);\r\n        }).catch((error) => {\r\n          console.error('错误信息', error);\r\n        });\r\n      })\r\n    },\r\n    // 生成异常错误报告\r\n    generateExceptionReport(pageParams) {\r\n      let v = this;\r\n      v.handleSaveData(pageParams).then((id) => {\r\n        if(id) {\r\n          const {href} = v.$router.resolve({\r\n            path: '/errorReport',\r\n            query: {\r\n              id: id\r\n            }\r\n          });\r\n          setTimeout(()=> {\r\n            window.open(href, '_blank');\r\n          },300);\r\n        }\r\n      });\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.generateExceptionReport_box {\r\n  width: 1200px;\r\n  margin: 30px auto 0;\r\n\r\n  .ivu-col .ivu-form-item {\r\n    .ivu-form-item-label {\r\n      padding-right: 0;\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./generateExceptionReport.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./generateExceptionReport.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./generateExceptionReport.vue?vue&type=template&id=5f7579c0&scoped=true&\"\nimport script from \"./generateExceptionReport.vue?vue&type=script&lang=js&\"\nexport * from \"./generateExceptionReport.vue?vue&type=script&lang=js&\"\nimport style0 from \"./generateExceptionReport.vue?vue&type=style&index=0&id=5f7579c0&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5f7579c0\",\n  null\n  \n)\n\nexport default component.exports","/*\n* FileSaver.js\n* A saveAs() FileSaver implementation.\n*\n* By Eli Grey, http://eligrey.com\n*\n* License : https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md (MIT)\n* source  : http://purl.eligrey.com/github/FileSaver.js\n*/\n\n// The one and only way of getting global scope in all environments\n// https://stackoverflow.com/q/3277182/1008999\nvar _global = typeof window === 'object' && window.window === window\n  ? window : typeof self === 'object' && self.self === self\n  ? self : typeof global === 'object' && global.global === global\n  ? global\n  : this\n\nfunction bom (blob, opts) {\n  if (typeof opts === 'undefined') opts = { autoBom: false }\n  else if (typeof opts !== 'object') {\n    console.warn('Deprecated: Expected third argument to be a object')\n    opts = { autoBom: !opts }\n  }\n\n  // prepend BOM for UTF-8 XML and text/* types (including HTML)\n  // note: your browser will automatically convert UTF-16 U+FEFF to EF BB BF\n  if (opts.autoBom && /^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(blob.type)) {\n    return new Blob([String.fromCharCode(0xFEFF), blob], { type: blob.type })\n  }\n  return blob\n}\n\nfunction download (url, name, opts) {\n  var xhr = new XMLHttpRequest()\n  xhr.open('GET', url)\n  xhr.responseType = 'blob'\n  xhr.onload = function () {\n    saveAs(xhr.response, name, opts)\n  }\n  xhr.onerror = function () {\n    console.error('could not download file')\n  }\n  xhr.send()\n}\n\nfunction corsEnabled (url) {\n  var xhr = new XMLHttpRequest()\n  // use sync to avoid popup blocker\n  xhr.open('HEAD', url, false)\n  try {\n    xhr.send()\n  } catch (e) {}\n  return xhr.status >= 200 && xhr.status <= 299\n}\n\n// `a.click()` doesn't work for all browsers (#465)\nfunction click (node) {\n  try {\n    node.dispatchEvent(new MouseEvent('click'))\n  } catch (e) {\n    var evt = document.createEvent('MouseEvents')\n    evt.initMouseEvent('click', true, true, window, 0, 0, 0, 80,\n                          20, false, false, false, false, 0, null)\n    node.dispatchEvent(evt)\n  }\n}\n\n// Detect WebView inside a native macOS app by ruling out all browsers\n// We just need to check for 'Safari' because all other browsers (besides Firefox) include that too\n// https://www.whatismybrowser.com/guides/the-latest-user-agent/macos\nvar isMacOSWebView = _global.navigator && /Macintosh/.test(navigator.userAgent) && /AppleWebKit/.test(navigator.userAgent) && !/Safari/.test(navigator.userAgent)\n\nvar saveAs = _global.saveAs || (\n  // probably in some web worker\n  (typeof window !== 'object' || window !== _global)\n    ? function saveAs () { /* noop */ }\n\n  // Use download attribute first if possible (#193 Lumia mobile) unless this is a macOS WebView\n  : ('download' in HTMLAnchorElement.prototype && !isMacOSWebView)\n  ? function saveAs (blob, name, opts) {\n    var URL = _global.URL || _global.webkitURL\n    var a = document.createElement('a')\n    name = name || blob.name || 'download'\n\n    a.download = name\n    a.rel = 'noopener' // tabnabbing\n\n    // TODO: detect chrome extensions & packaged apps\n    // a.target = '_blank'\n\n    if (typeof blob === 'string') {\n      // Support regular links\n      a.href = blob\n      if (a.origin !== location.origin) {\n        corsEnabled(a.href)\n          ? download(blob, name, opts)\n          : click(a, a.target = '_blank')\n      } else {\n        click(a)\n      }\n    } else {\n      // Support blobs\n      a.href = URL.createObjectURL(blob)\n      setTimeout(function () { URL.revokeObjectURL(a.href) }, 4E4) // 40s\n      setTimeout(function () { click(a) }, 0)\n    }\n  }\n\n  // Use msSaveOrOpenBlob as a second approach\n  : 'msSaveOrOpenBlob' in navigator\n  ? function saveAs (blob, name, opts) {\n    name = name || blob.name || 'download'\n\n    if (typeof blob === 'string') {\n      if (corsEnabled(blob)) {\n        download(blob, name, opts)\n      } else {\n        var a = document.createElement('a')\n        a.href = blob\n        a.target = '_blank'\n        setTimeout(function () { click(a) })\n      }\n    } else {\n      navigator.msSaveOrOpenBlob(bom(blob, opts), name)\n    }\n  }\n\n  // Fallback to using FileReader and a popup\n  : function saveAs (blob, name, opts, popup) {\n    // Open a popup immediately do go around popup blocker\n    // Mostly only available on user interaction and the fileReader is async so...\n    popup = popup || open('', '_blank')\n    if (popup) {\n      popup.document.title =\n      popup.document.body.innerText = 'downloading...'\n    }\n\n    if (typeof blob === 'string') return download(blob, name, opts)\n\n    var force = blob.type === 'application/octet-stream'\n    var isSafari = /constructor/i.test(_global.HTMLElement) || _global.safari\n    var isChromeIOS = /CriOS\\/[\\d]+/.test(navigator.userAgent)\n\n    if ((isChromeIOS || (force && isSafari) || isMacOSWebView) && typeof FileReader !== 'undefined') {\n      // Safari doesn't allow downloading of blob URLs\n      var reader = new FileReader()\n      reader.onloadend = function () {\n        var url = reader.result\n        url = isChromeIOS ? url : url.replace(/^data:[^;]*;/, 'data:attachment/file;')\n        if (popup) popup.location.href = url\n        else location = url\n        popup = null // reverse-tabnabbing #460\n      }\n      reader.readAsDataURL(blob)\n    } else {\n      var URL = _global.URL || _global.webkitURL\n      var url = URL.createObjectURL(blob)\n      if (popup) popup.location = url\n      else location.href = url\n      popup = null // reverse-tabnabbing #460\n      setTimeout(function () { URL.revokeObjectURL(url) }, 4E4) // 40s\n    }\n  }\n)\n\n_global.saveAs = saveAs.saveAs = saveAs\n\nif (typeof module !== 'undefined') {\n  module.exports = saveAs;\n}\n"],"names":["render","_vm","this","_c","_self","staticClass","ref","attrs","pageParams","ruleValidate","threeItemCol","model","value","system","callback","$$v","$set","expression","_l","systemList","item","key","_v","_s","name","systemEnvironment","systemEnvironmentList","method","methodList","itemCol","minRows","maxRows","errorReportingInterface","trim","enteringGinseng","errorMessage","staticStyle","on","$event","handleReport","resetBtn","staticRenderFns","data","required","message","trigger","methods","$refs","resetFields","type","v","obj","selectKeyList","text","handleFun","list","map","validate","valid","val","includes","blob","Blob","timer","$moment","Date","format","saveAs","generateExceptionReport","path","handleSaveData","then","id","origin","window","location","$tools","copyText","$Message","success","Promise","resolve","AbnormalList","$leancloud","Object","extend","abnormalList","keyList","set","save","catch","error","console","href","$router","query","setTimeout","open","component","b","a","autoBom","warn","test","c","d","XMLHttpRequest","responseType","onload","g","response","onerror","send","status","e","dispatchEvent","MouseEvent","document","createEvent","initMouseEvent","f","self","global","navigator","userAgent","HTMLAnchorElement","prototype","h","i","URL","webkitURL","j","createElement","download","rel","target","createObjectURL","revokeObjectURL","msSaveOrOpenBlob","title","body","innerText","HTMLElement","safari","FileReader","k","onloadend","result","replace","readAsDataURL","l","m","module","exports"],"sourceRoot":""}